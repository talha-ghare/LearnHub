{% extends 'base.html' %}

{% block title %}Login - LearnHub{% endblock %}

{% block content %}
<div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl mt-10 hover-scale transition-all duration-300">
  <div class="p-8">
    <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Welcome Back</h2>
    
    <form method="post" class="space-y-6">
      {% csrf_token %}
      
      <div>
        <label class="block text-gray-700 text-sm font-bold mb-2">Username</label>
        <input name="username" class="w-full px-4 py-3 rounded-lg border focus:ring-2 focus:ring-primary focus:border-transparent" required>
      </div>
      
      <div class="relative">
        <label class="block text-gray-700 text-sm font-bold mb-2">Password</label>
        <input type="password" name="password" id="password" class="w-full px-4 py-3 rounded-lg border focus:ring-2 focus:ring-primary focus:border-transparent pr-10" required>
        <button type="button" onclick="togglePassword()" class="absolute right-3 bottom-3 text-gray-400 hover:text-primary">
          üëÅÔ∏è
        </button>
      </div>
      
      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <input id="remember" type="checkbox" class="rounded text-primary">
          <label for="remember" class="ml-2 text-sm">Remember me</label>
        </div>
        <a href="#" class="text-sm text-primary hover:underline">Forgot password?</a>
      </div>
      
      <button type="submit" class="w-full bg-gradient-to-r from-primary to-secondary text-white py-3 rounded-lg hover:opacity-90 transition">
        Sign In
      </button>
      
      <div class="mt-6 grid grid-cols-2 gap-4">
        <button type="button" class="bg-blue-600 text-white py-2 rounded flex items-center justify-center">
          <span class="mr-2">f</span> Facebook
        </button>
        <button type="button" class="bg-red-500 text-white py-2 rounded flex items-center justify-center">
          <span class="mr-2">G</span> Google
        </button>
      </div>
    </form>
    
    <p class="text-center text-gray-600 mt-6">
      Don't have an account? 
      <a href="{% url 'register' %}" class="text-primary hover:underline">Create one</a>
    </p>
  </div>
</div>

<script>
function togglePassword() {
  const passwordField = document.getElementById('password');
  passwordField.type = passwordField.type === 'password' ? 'text' : 'password';
}

// Loading spinner on form submit
document.querySelector('form').addEventListener('submit', function() {
  const btn = this.querySelector('button[type="submit"]');
  btn.innerHTML = '<div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white mx-auto"></div>';
  btn.disabled = true;
});
</script>

<style>
.hover-scale {
  transition: transform 0.2s;
}
.hover-scale:hover {
  transform: scale(1.02);
}
</style>
{% endblock %}